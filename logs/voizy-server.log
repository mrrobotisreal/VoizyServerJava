2025-03-20 19:22:33.142 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-20 19:22:33.289 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212b5695
2025-03-20 19:22:33.290 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-20 19:22:33.394 [main] INFO  io.winapps.voizy.database.Schema - Database tables created successfully
2025-03-20 19:22:33.395 [main] INFO  i.w.voizy.database.DatabaseManager - MySQL connected and schema ensured
2025-03-20 19:22:33.544 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.13; built: 2022-12-07T20:47:15.149Z; git: a04bd1ccf844cf9bebc12129335d7493111cbff6; jvm 17.0.13+12-LTS
2025-03-20 19:22:33.563 [main] INFO  o.e.j.s.s.DefaultSessionIdManager - Session workerName=node0
2025-03-20 19:22:33.572 [main] ERROR io.winapps.voizy.VoizyServer - Server initialization error
java.lang.IllegalStateException: Multiple servlets map to path /users/create: io.winapps.voizy.VoizyServer$1-7b94089b[mapped:EMBEDDED:null],io.winapps.voizy.handlers.users.servlets.CreateUserServlet-6436a7db[mapped:EMBEDDED:null]
	at org.eclipse.jetty.servlet.ServletHandler.updateMappings(ServletHandler.java:1383)
	at org.eclipse.jetty.servlet.ServletHandler.doStart(ServletHandler.java:181)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)
	at org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)
	at org.eclipse.jetty.server.session.SessionHandler.doStart(SessionHandler.java:485)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)
	at org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:960)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:388)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)
	at org.eclipse.jetty.server.Server.start(Server.java:470)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)
	at org.eclipse.jetty.server.Server.doStart(Server.java:415)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at io.winapps.voizy.VoizyServer.main(VoizyServer.java:56)
2025-03-20 19:56:01.842 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-20 19:56:01.956 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212b5695
2025-03-20 19:56:01.957 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-20 19:56:02.008 [main] INFO  io.winapps.voizy.database.Schema - Database tables created successfully
2025-03-20 19:56:02.008 [main] INFO  i.w.voizy.database.DatabaseManager - MySQL connected and schema ensured
2025-03-20 19:56:02.181 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.13; built: 2022-12-07T20:47:15.149Z; git: a04bd1ccf844cf9bebc12129335d7493111cbff6; jvm 17.0.13+12-LTS
2025-03-20 19:56:02.201 [main] INFO  o.e.j.s.s.DefaultSessionIdManager - Session workerName=node0
2025-03-20 19:56:02.208 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@52066604{/,null,AVAILABLE}
2025-03-20 19:56:02.212 [main] ERROR io.winapps.voizy.VoizyServer - Server initialization error
java.lang.IllegalStateException: /etc/letsencrypt/voizy.me/keystore.jks is not a valid keystore
	at org.eclipse.jetty.util.security.CertificateUtils.getKeyStore(CertificateUtils.java:45)
	at org.eclipse.jetty.util.ssl.SslContextFactory.loadKeyStore(SslContextFactory.java:1121)
	at org.eclipse.jetty.util.ssl.SslContextFactory.load(SslContextFactory.java:291)
	at org.eclipse.jetty.util.ssl.SslContextFactory.doStart(SslContextFactory.java:213)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)
	at org.eclipse.jetty.server.SslConnectionFactory.doStart(SslConnectionFactory.java:112)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)
	at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:367)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:75)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:228)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:428)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)
	at io.winapps.voizy.VoizyServer.main(VoizyServer.java:52)
2025-03-20 19:59:41.182 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-20 19:59:41.281 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212b5695
2025-03-20 19:59:41.282 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-20 19:59:41.324 [main] INFO  io.winapps.voizy.database.Schema - Database tables created successfully
2025-03-20 19:59:41.324 [main] INFO  i.w.voizy.database.DatabaseManager - MySQL connected and schema ensured
2025-03-20 19:59:41.476 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.13; built: 2022-12-07T20:47:15.149Z; git: a04bd1ccf844cf9bebc12129335d7493111cbff6; jvm 17.0.13+12-LTS
2025-03-20 19:59:41.493 [main] INFO  o.e.j.s.s.DefaultSessionIdManager - Session workerName=node0
2025-03-20 19:59:41.499 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@77b14724{/,null,AVAILABLE}
2025-03-20 19:59:41.503 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6440112d{HTTP/1.1, (http/1.1)}{0.0.0.0:8282}
2025-03-20 19:59:41.509 [main] INFO  org.eclipse.jetty.server.Server - Started Server@63787180{STARTING}[11.0.13,sto=0] @516ms
2025-03-20 19:59:41.509 [main] INFO  io.winapps.voizy.VoizyServer - Server started on port 8282
2025-03-20 19:59:41.509 [main] INFO  io.winapps.voizy.VoizyServer - Using HTTP
2025-03-20 20:09:07.226 [qtp1397381784-24] WARN  o.eclipse.jetty.server.HttpChannel - /users/login
java.lang.ExceptionInInitializerError: null
	at io.winapps.voizy.handlers.auth.AuthHandler.doLogin(AuthHandler.java:88)
	at io.winapps.voizy.handlers.auth.AuthHandler.login(AuthHandler.java:47)
	at io.winapps.voizy.VoizyServer$1.service(VoizyServer.java:128)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:529)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1380)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1302)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at org.eclipse.jetty.server.Server.handle(Server.java:563)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:934)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1078)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.security.WeakKeyException: The specified key byte array is 40 bits which is not secure enough for any JWT HMAC-SHA algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HMAC-SHA algorithms MUST have a size >= 256 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys#secretKeyFor(SignatureAlgorithm) method to create a key guaranteed to be secure enough for your preferred HMAC-SHA algorithm.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.
	at io.jsonwebtoken.security.Keys.hmacShaKeyFor(Keys.java:96)
	at io.winapps.voizy.util.JwtUtil.<clinit>(JwtUtil.java:20)
	... 28 common frames omitted
2025-03-20 20:19:28.630 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-20 20:19:28.726 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212b5695
2025-03-20 20:19:28.727 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-20 20:19:28.762 [main] INFO  io.winapps.voizy.database.Schema - Database tables created successfully
2025-03-20 20:19:28.762 [main] INFO  i.w.voizy.database.DatabaseManager - MySQL connected and schema ensured
2025-03-20 20:19:28.840 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.13; built: 2022-12-07T20:47:15.149Z; git: a04bd1ccf844cf9bebc12129335d7493111cbff6; jvm 17.0.13+12-LTS
2025-03-20 20:19:28.856 [main] INFO  o.e.j.s.s.DefaultSessionIdManager - Session workerName=node0
2025-03-20 20:19:28.862 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@77b14724{/,null,AVAILABLE}
2025-03-20 20:19:28.866 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6440112d{HTTP/1.1, (http/1.1)}{0.0.0.0:8282}
2025-03-20 20:19:28.871 [main] INFO  org.eclipse.jetty.server.Server - Started Server@63787180{STARTING}[11.0.13,sto=0] @408ms
2025-03-20 20:19:28.871 [main] INFO  io.winapps.voizy.VoizyServer - Server started on port 8282
2025-03-20 20:19:28.871 [main] INFO  io.winapps.voizy.VoizyServer - Using HTTP
2025-03-20 20:19:37.769 [qtp1397381784-27] ERROR i.w.voizy.handlers.auth.AuthHandler - Error processing login request
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: io.winapps.voizy.models.auth.LoginResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1306)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4624)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3828)
	at io.winapps.voizy.handlers.auth.AuthHandler.login(AuthHandler.java:62)
	at io.winapps.voizy.VoizyServer$1.service(VoizyServer.java:128)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:529)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1380)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1302)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at org.eclipse.jetty.server.Server.handle(Server.java:563)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:934)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1078)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-03-20 20:19:37.771 [pool-1-thread-1] INFO  io.winapps.voizy.util.AnalyticsUtil - TrackEvent "login" success; total rows affected = 1
2025-03-20 20:19:37.777 [qtp1397381784-27] WARN  o.eclipse.jetty.server.HttpChannel - /users/login
java.lang.IllegalStateException: COMPLETED
	at org.eclipse.jetty.server.HttpChannelState.sendError(HttpChannelState.java:911)
	at org.eclipse.jetty.server.Response.sendError(Response.java:498)
	at io.winapps.voizy.handlers.auth.AuthHandler.login(AuthHandler.java:66)
	at io.winapps.voizy.VoizyServer$1.service(VoizyServer.java:128)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:529)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1380)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1302)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)
	at org.eclipse.jetty.server.Server.handle(Server.java:563)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)
	at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:934)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1078)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-03-20 20:35:39.164 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-20 20:35:39.267 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@212b5695
2025-03-20 20:35:39.269 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-20 20:35:39.305 [main] INFO  io.winapps.voizy.database.Schema - Database tables created successfully
2025-03-20 20:35:39.305 [main] INFO  i.w.voizy.database.DatabaseManager - MySQL connected and schema ensured
2025-03-20 20:35:39.393 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.13; built: 2022-12-07T20:47:15.149Z; git: a04bd1ccf844cf9bebc12129335d7493111cbff6; jvm 17.0.13+12-LTS
2025-03-20 20:35:39.409 [main] INFO  o.e.j.s.s.DefaultSessionIdManager - Session workerName=node0
2025-03-20 20:35:39.416 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@4218500f{/,null,AVAILABLE}
2025-03-20 20:35:39.420 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6440112d{HTTP/1.1, (http/1.1)}{0.0.0.0:8282}
2025-03-20 20:35:39.425 [main] INFO  org.eclipse.jetty.server.Server - Started Server@4b6690c0{STARTING}[11.0.13,sto=0] @430ms
2025-03-20 20:35:39.425 [main] INFO  io.winapps.voizy.VoizyServer - Server started on port 8282
2025-03-20 20:35:39.425 [main] INFO  io.winapps.voizy.VoizyServer - Using HTTP
2025-03-20 20:35:45.952 [pool-1-thread-1] INFO  io.winapps.voizy.util.AnalyticsUtil - TrackEvent "login" success; total rows affected = 1
